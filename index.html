<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>부천 스마트 원스톱 플랫폼 | 3구 37동을 하나로!</title>
    <meta name="description" content="부천시 규제개선 공모전 - AI 기반 통합 민원 서비스로 행정 혁신을 실현합니다">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- Custom scripts -->
    <script src="charts.js"></script>
    <script src="js/slider.js"></script>
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .text-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        .progress-ring {
            transform: rotate(-90deg);
        }
        .progress-ring__circle {
            transition: stroke-dasharray 0.35s;
            transform: rotate(-90deg);
            transform-origin: 50% 50%;
        }
        .demo-chat {
            max-height: 300px;
            overflow-y: auto;
        }
        .typing-indicator {
            display: inline-block;
        }
        .typing-indicator::after {
            content: '...';
            animation: typing 1.5s infinite;
        }
        @keyframes typing {
            0%, 20% { opacity: 0; }
            50% { opacity: 1; }
            80%, 100% { opacity: 0; }
        }
        .scroll-indicator {
            position: fixed;
            top: 50%;
            right: 20px;
            transform: translateY(-50%);
            z-index: 1000;
        }
        .scroll-indicator div {
            width: 4px;
            height: 60px;
            background: #e5e7eb;
            border-radius: 2px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .scroll-indicator div:hover {
            background: #9ca3af;
        }
        .scroll-indicator .progress {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 2px;
            transition: height 0.1s ease;
        }
        
        /* 챗봇 관련 스타일 */
        .chat-message {
            opacity: 0;
            transform: translateY(20px);
            animation: slideInUp 0.5s ease forwards;
        }
        @keyframes slideInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .user-message {
            margin-left: auto;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .bot-message {
            background: white;
            color: #374151;
            border: 1px solid #e5e7eb;
        }
        .quick-question:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        .message-time {
            font-size: 0.75rem;
            color: #6b7280;
            margin-top: 0.5rem;
        }
        
        /* 타이핑 애니메이션 개선 */
        .typing-dots {
            display: inline-flex;
            align-items: center;
        }
        .typing-dots span {
            height: 8px;
            width: 8px;
            background: #6b7280;
            border-radius: 50%;
            display: inline-block;
            margin: 0 2px;
            animation: typing-bounce 1.4s infinite ease-in-out both;
        }
        .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
        .typing-dots span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing-bounce {
            0%, 80%, 100% { 
                transform: scale(0);
                opacity: 0.5;
            }
            40% { 
                transform: scale(1);
                opacity: 1;
            }
        }
        
        /* 언어 전환 효과 */
        .lang-transition {
            transition: all 0.3s ease;
        }
        
        /* 위치 기반 서비스 애니메이션 */
        .location-pulse {
            animation: location-pulse 2s infinite;
        }
        @keyframes location-pulse {
            0% {
                transform: scale(1);
                opacity: 1;
            }
            50% {
                transform: scale(1.1);
                opacity: 0.7;
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }
        
        /* Hero Slider 스타일 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .animate-fadeIn {
            animation: fadeIn 1s ease forwards;
        }
        
        .animation-delay-300 {
            animation-delay: 300ms;
        }
        
        .animation-delay-600 {
            animation-delay: 600ms;
        }
        
        .animation-delay-900 {
            animation-delay: 900ms;
        }
        
        .hero-slide {
            opacity: 0;
            transform: scale(1.05);
            transition: opacity 1s ease-in-out, transform 1s ease-in-out;
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
        }
        
        .hero-slide.active {
            opacity: 1;
            transform: scale(1);
            z-index: 20;
        }
    </style>
</head>
<body class="font-sans antialiased">
    <!-- Navigation -->
    <nav class="bg-white shadow-lg fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0 flex items-center">
                        <img src="img/logo.png" alt="부천시 로고" class="h-8 mr-2">
                        <h1 class="text-xl font-bold text-gradient">부천 스마트 원스톱</h1>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="nav-link text-gray-700 hover:text-blue-600 transition-colors">홈</a>
                    <a href="about.html" class="nav-link text-gray-700 hover:text-blue-600 transition-colors">문제인식</a>
                    <a href="solution.html" class="nav-link text-gray-700 hover:text-blue-600 transition-colors">솔루션</a>
                    <a href="expected-benefits.html" class="nav-link text-gray-700 hover:text-blue-600 transition-colors">기대효과</a>
                    <a href="bucheon_smart_onestop_plan.html" class="nav-link text-gray-700 hover:text-blue-600 transition-colors">실행계획</a>
                    <a href="benchmarking.html" class="nav-link text-gray-700 hover:text-blue-600 transition-colors">벤치마킹</a>
                    <a href="demo.html" class="nav-link text-gray-700 hover:text-blue-600 transition-colors">AI 챗봇 체험</a>
                </div>
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-gray-700 hover:text-blue-600">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="index.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">홈</a>
                <a href="about.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">문제인식</a>
                <a href="solution.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">솔루션</a>
                <a href="expected-benefits.html" clase="block px-3 py-2 text-gray-700 hover:text-blue-600">기대효과</a>
                <a href="bucheon_smart_onestop_plan.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">실행계획</a>
                <a href="benchmarking.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">벤치마킹</a>
                <a href="demo.html" class="block px-3 py-2 text-gray-700 hover:text-blue-600">AI 챗봇 체험</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section - Full-screen Slider -->
    <section id="home" class="relative w-full h-screen overflow-hidden">
        <!-- Slider container -->
        <div id="hero-slider" class="relative w-full h-full">
            <!-- Slide 1 -->
            <div class="hero-slide absolute inset-0 transition-opacity duration-1000 opacity-0 z-10 bg-cover bg-center" style="background-image: url('img/7041_21006_3316.jpg');">
                <div class="absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center">
                    <div class="text-center text-white max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <h1 class="text-4xl md:text-7xl font-bold mb-6 animate-fadeIn">
                            3구 37동을 <span class="text-yellow-300">하나로!</span>
                        </h1>
                        <p class="text-xl md:text-3xl mb-8 opacity-90 animate-fadeIn animation-delay-300">
                            부천 스마트 원스톱 플랫폼
                        </p>
                        <p class="text-lg md:text-xl mb-12 max-w-3xl mx-auto opacity-75 animate-fadeIn animation-delay-600">
                            AI 기반 통합 민원 서비스로 76만 부천시민의 행정 혁신을 실현합니다
                        </p>
                        
                        <!-- CTA 버튼 -->
                        <div class="flex flex-col sm:flex-row gap-4 justify-center mb-6 animate-fadeIn animation-delay-900">
                            <a href="demo.html" class="px-8 py-4 bg-white text-blue-600 font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                                <i class="fas fa-play mr-2"></i>서비스 데모 보기
                            </a>
                            <a href="https://notebooklm.google.com/notebook/846e9e8b-a02a-46b1-bcc2-e6cfd82ce4fa/audio" class="px-8 py-4 bg-transparent border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-blue-600 transition-all duration-300">
                                <i class="fas fa-file-alt mr-2"></i>음성으로 듣기
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide 2 -->
            <div class="hero-slide absolute inset-0 transition-opacity duration-1000 opacity-0 bg-cover bg-center" style="background-image: url('img/imgload2.jfif');">
                <div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center">
                    <div class="text-center text-white max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <h1 class="text-4xl md:text-6xl font-bold mb-6">
                            <span class="text-blue-300">스마트한 도시</span>, 행복한 시민
                        </h1>
                        <p class="text-xl md:text-2xl mb-8 opacity-90">
                            부천시 행정서비스가 더욱 빠르고 편리해집니다
                        </p>
                        
                        <!-- 부천시 현황 인포그래픽 -->
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 mb-12">
                            <div class="text-center">
                                <div class="text-3xl md:text-4xl font-bold mb-2">76.8만명</div>
                                <p class="text-sm opacity-80">부천시 인구</p>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl md:text-4xl font-bold mb-2">14,472명/km²</div>
                                <p class="text-sm opacity-80">인구밀도</p>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl md:text-4xl font-bold mb-2">53.44km²</div>
                                <p class="text-sm opacity-80">면적</p>
                            </div>
                            <div class="text-center">
                                <div class="text-3xl md:text-4xl font-bold mb-2">240만건</div>
                                <p class="text-sm opacity-80">연간 민원</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide 3 -->
            <div class="hero-slide absolute inset-0 transition-opacity duration-1000 opacity-0 bg-cover bg-center" style="background-image: url('img/pexels-tara-winstead-8386440.jpg');">
                <div class="absolute inset-0 bg-gradient-to-r from-blue-900/70 to-purple-900/70 flex items-center justify-center">
                    <div class="text-center text-white max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <h1 class="text-4xl md:text-6xl font-bold mb-6">
                            AI 기술로 <span class="text-green-300">혁신</span>하는 부천
                        </h1>
                        <p class="text-xl md:text-2xl mb-8 opacity-90">
                            지능형 민원 처리 시스템으로 시민 중심 행정 구현
                        </p>
                        
                        <!-- 혁신 요약 -->
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-6">
                            <div class="bg-white/20 backdrop-blur-sm p-4 rounded-lg">
                                <div class="text-3xl font-bold text-green-300 mb-1">70%</div>
                                <p class="text-sm">민원처리 시간 단축</p>
                            </div>
                            <div class="bg-white/20 backdrop-blur-sm p-4 rounded-lg">
                                <div class="text-3xl font-bold text-green-300 mb-1">90%</div>
                                <p class="text-sm">반복 방문 감소</p>
                            </div>
                            <div class="bg-white/20 backdrop-blur-sm p-4 rounded-lg">
                                <div class="text-3xl font-bold text-green-300 mb-1">95%</div>
                                <p class="text-sm">시민 만족도</p>
                            </div>
                            <div class="bg-white/20 backdrop-blur-sm p-4 rounded-lg">
                                <div class="text-3xl font-bold text-green-300 mb-1">24시간</div>
                                <p class="text-sm">AI 상담 서비스</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Slide 4 -->
            <div class="hero-slide absolute inset-0 transition-opacity duration-1000 opacity-0 bg-cover bg-center" style="background-image: url('img/imgload.jfif');">
                <div class="absolute inset-0 bg-black bg-opacity-60 flex items-center justify-center">
                    <div class="text-center text-white max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <h1 class="text-4xl md:text-6xl font-bold mb-6">
                            역사와 미래가 <span class="text-yellow-300">공존</span>하는 도시
                        </h1>
                        <p class="text-xl md:text-2xl mb-8 opacity-90">
                            유네스코 창의도시, 만화·웹툰의 메카 부천
                        </p>
                        <p class="text-lg md:text-xl mb-12 max-w-3xl mx-auto opacity-75">
                            문화적 역량에 행정 혁신을 더해 미래형 스마트시티로 도약합니다
                        </p>
                        
                        <!-- CTA 버튼 -->
                        <div class="flex flex-col sm:flex-row gap-4 justify-center">
                            <a href="#roadmap" class="px-8 py-4 bg-yellow-500 text-white font-semibold rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105">
                                <i class="fas fa-map-marked-alt mr-2"></i>부천의 미래 보기
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Navigation Arrows -->
            <button id="prev-slide" class="absolute left-4 top-1/2 transform -translate-y-1/2 z-20 bg-white/20 hover:bg-white/40 transition-all text-white p-3 rounded-full backdrop-blur-sm">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button id="next-slide" class="absolute right-4 top-1/2 transform -translate-y-1/2 z-20 bg-white/20 hover:bg-white/40 transition-all text-white p-3 rounded-full backdrop-blur-sm">
                <i class="fas fa-chevron-right"></i>
            </button>
            
            <!-- Slide Indicators -->
            <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 z-20 flex space-x-2">
                <button class="slide-indicator w-3 h-3 rounded-full bg-white opacity-100 transition-all duration-300" data-slide="0"></button>
                <button class="slide-indicator w-3 h-3 rounded-full bg-white opacity-50 transition-all duration-300" data-slide="1"></button>
                <button class="slide-indicator w-3 h-3 rounded-full bg-white opacity-50 transition-all duration-300" data-slide="2"></button>
                <button class="slide-indicator w-3 h-3 rounded-full bg-white opacity-50 transition-all duration-300" data-slide="3"></button>
            </div>
            
            <!-- Scroll Indicator -->
            <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 animate-bounce z-20">
                <a href="#problem" class="text-white opacity-70 hover:opacity-100 transition-opacity">
                    <i class="fas fa-chevron-down text-2xl"></i>
                </a>
            </div>
        </div>
    </section>  


    <!-- 푸터 -->
    <footer class="bg-gray-800 text-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-lg font-semibold mb-4">부천 스마트 원스톱</h3>
                    <p class="text-gray-400 text-sm">
                        부천시 규제개선 기업·시민 아이디어 공모전
                    </p>
                    <div class="mt-4 flex items-center">
                        <a href="#" class="text-gray-400 hover:text-white mr-4">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white mr-4">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" class="text-gray-400 hover:text-white">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">페이지</h3>
                    <ul class="space-y-2">
                        <li><a href="index.html" class="text-white font-medium">홈</a></li>
                        <li><a href="about.html" class="text-gray-400 hover:text-white">문제인식</a></li>
                        <li><a href="solution.html" class="text-gray-400 hover:text-white">솔루션</a></li>
                        <li><a href="expected-benefits.html" class="text-gray-400 hover:text-white">기대효과</a></li>
                        <li><a href="bucheon_smart_onestop_plan.html" class="text-gray-400 hover:text-white">실행계획</a></li>
                        <li><a href="benchmarking.html" class="text-gray-400 hover:text-white">벤치마킹</a></li>
                        <li><a href="demo.html" class="text-gray-400 hover:text-white">AI챗봇 체험</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">관련 링크</h3>
                    <ul class="space-y-2">
                        <li><a href="https://www.bucheon.go.kr" target="_blank" class="text-gray-400 hover:text-white">부천시청</a></li>
                        <li><a href="https://www.data.go.kr" target="_blank" class="text-gray-400 hover:text-white">공공데이터포털</a></li>
                        <li><a href="https://www.mois.go.kr" target="_blank" class="text-gray-400 hover:text-white">행정안전부</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-4">문의</h3>
                    <p class="text-gray-400 text-sm mb-2">
                        경기도 부천시 원미구 길주로 210
                    </p>
                    <p class="text-gray-400 text-sm">
                        이메일: bucheon@smartcity.kr
                    </p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-8 pt-8 text-center">
                <p class="text-gray-400 text-sm">
                    © 2025 부천 스마트 원스톱 플랫폼. 모든 권리 보유.<br>사진 출처: 부천시청
                </p>
            </div>
        </div>
    </footer>


    <!-- 스크롤 인디케이터 -->
    <div class="scroll-indicator">
        <div>
            <div class="progress" style="height: 0%"></div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 모바일 메뉴 토글
            const mobileMenuBtn = document.getElementById('mobile-menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // 네비게이션 링크 클릭 시 부드러운 스크롤
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    if (targetSection) {
                        targetSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                        if (mobileMenu) mobileMenu.classList.add('hidden');
                    }
                });
            });

            // 카운터 애니메이션 함수
            function animateCounter(element, target, suffix = '', isDecimal = false, duration = 2000) {
                if (!element) return;

                let startValue = parseFloat(element.textContent.replace(/,/g, '')) || 0;
                if (target === startValue && element.textContent.endsWith(suffix)) return;


                let current = startValue;
                const increment = (target - startValue) / (duration / 20); 

                if (increment === 0) { 
                     if (isDecimal) {
                        element.textContent = target.toFixed(1) + suffix;
                    } else {
                        element.textContent = target.toLocaleString() + suffix;
                    }
                    return;
                }
                
                const timer = setInterval(() => {
                    current += increment;
                    if ((increment > 0 && current >= target) || (increment < 0 && current <= target)) {
                        current = target;
                        clearInterval(timer);
                    }
                    if (isDecimal) {
                        element.textContent = current.toFixed(1) + suffix;
                    } else {
                        element.textContent = Math.floor(current).toLocaleString() + suffix;
                    }
                }, 20);
            }

            // Hero Section Counters
            const populationCounterEl = document.getElementById('population-counter');
            const densityCounterEl = document.getElementById('density-counter');
            const areaCounterEl = document.getElementById('area-counter');
            const civilCounterEl = document.getElementById('civil-counter');

            if (populationCounterEl) animateCounter(populationCounterEl, 76.8, '', true);
            if (densityCounterEl) animateCounter(densityCounterEl, 14472);
            if (areaCounterEl) animateCounter(areaCounterEl, 53.44, '', true);
            if (civilCounterEl) animateCounter(civilCounterEl, 240, '', false);

            // 스크롤 인디케이터
            window.addEventListener('scroll', function() {
                const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                const docHeight = Math.max(
                    document.body.scrollHeight, document.documentElement.scrollHeight,
                    document.body.offsetHeight, document.documentElement.offsetHeight,
                    document.body.clientHeight, document.documentElement.clientHeight
                );
                const winHeight = window.innerHeight;
                const scrollPercent = scrollTop / (docHeight - winHeight);
                const scrollPercentRounded = Math.min(100, Math.max(0, Math.round(scrollPercent * 100)));
                
                const progress = document.querySelector('.scroll-indicator .progress');
                if (progress) {
                    progress.style.height = scrollPercentRounded + '%';
                }
            });

            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observerCallback = (entries, observerInstance) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const target = entry.target;
                        
                        if (target.classList.contains('case-card') || target.classList.contains('innovation-card')) {
                            target.style.opacity = '1';
                            target.style.transform = 'translateY(0)';
                            observerInstance.unobserve(target);
                        }
                        
                        if (target.classList.contains('stat-card') && target.querySelector('[data-count]')) {
                            const counterEl = target.querySelector('[data-count]');
                            if (counterEl && counterEl.dataset.count && !target.dataset.animated) {
                                const countTarget = parseFloat(counterEl.dataset.count);
                                const isDecimalData = counterEl.dataset.decimal === 'true';
                                animateCounter(counterEl, countTarget, '', isDecimalData);
                                target.dataset.animated = 'true';
                            }
                        }
                    }
                });
            };

            const animationObserver = new IntersectionObserver(observerCallback, observerOptions);

            document.querySelectorAll('.case-card').forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = `opacity 0.6s ease ${index * 0.15}s, transform 0.6s ease ${index * 0.15}s`;
                animationObserver.observe(card);
            });
            
            document.querySelectorAll('.innovation-card').forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(50px)';
                card.style.transition = `opacity 0.8s ease ${index * 0.2}s, transform 0.8s ease ${index * 0.2}s`;
                animationObserver.observe(card);
            });

            document.querySelectorAll('.stat-card').forEach(card => {
                if (card.querySelector('[data-count]')) {
                    const counterEl = card.querySelector('[data-count]');
                    const isDecimalData = counterEl.dataset.decimal === 'true';
                    if (isDecimalData) counterEl.textContent = "0.0"; else counterEl.textContent = "0";
                    animationObserver.observe(card);
                }
            });

            const empathyBtn = document.getElementById('empathy-btn');
            const empathyCount = document.getElementById('empathy-count');
            
            if (empathyBtn && empathyCount) {
                empathyBtn.addEventListener('click', function() {
                    let count = parseInt(empathyCount.textContent);
                    count++;
                    empathyCount.textContent = count;
                    
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 150);
                    
                    const heart = document.createElement('span');
                    heart.textContent = '❤️';
                    heart.style.position = 'absolute';
                    heart.style.left = Math.random() * 80 + 10 + '%';
                    heart.style.top = '-10px';
                    heart.style.fontSize = '20px';
                    heart.style.animation = 'float-up 1s ease-out forwards';
                    heart.style.pointerEvents = 'none';
                    heart.style.opacity = '1';
                    
                    this.style.position = 'relative';
                    this.appendChild(heart);
                    
                    setTimeout(() => {
                        heart.remove();
                    }, 1000);
                });
            }

            const style = document.createElement('style');
            style.textContent = `
                @keyframes float-up {
                    0% {
                        opacity: 1;
                        transform: translateY(0px) scale(0.5);
                    }
                    100% {
                        opacity: 0;
                        transform: translateY(-60px) scale(1.2);
                    }
                }
            `;
            document.head.appendChild(style);

            let currentLanguage = 'ko';
            const chatResponses = {
                ko: {
                    '전입신고 어떻게 하나요?': {
                        text: '전입신고는 이사 후 14일 이내에 신고해야 합니다.📋 필요서류:• 전입신고서• 신분증• 전입확약서(해당 시)🏢 접수처:• 거주지 관할 구청 민원실• 온라인: 정부24⏰ 처리시간: 즉시 처리💡 팁: 온라인으로 미리 신청하면 구청 방문 시 대기시간을 줄일 수 있어요!',
                        location: '원미구청이 현재 위치에서 가장 가깝습니다. (도보 5분)',
                        waitTime: '현재 대기시간: 15분'
                    },
                    '사업자등록 절차가 궁금해요': {
                        text: '사업자등록은 원스톱으로 한 번에 처리 가능합니다!📝 온라인 통합신청:1️⃣ 부천 스마트 원스톱 플랫폼 접속2️⃣ 사업자등록 통합신청 클릭3️⃣ 필요정보 한 번 입력4️⃣ 세무서, 구청, 근로복지공단 자동 배분⚡ 기존 2주 → 3일로 단축!📱 진행상황은 카카오톡으로 실시간 알림받을 수 있어요.',
                        location: '가장 빠른 처리가 가능한 소사구청을 추천드립니다.',
                        waitTime: '예상 처리시간: 3일'
                    },
                    '복지 혜택 신청하고 싶어요': {
                        text: '맞춤형 복지혜택을 안내해드릴게요! 🎁🔍 개인 맞춤 분석:• 연령, 소득, 가구구성원 기반• 신청 가능한 혜택 자동 추천• 누락된 혜택 사전 알림📋 주요 복지혜택:• 기초연금 (만 65세 이상)• 아동수당 (만 8세 미만)• 청년수당 (만 19-34세)• 장애인연금온라인 통합신청으로 여러 혜택을 한 번에 신청 가능해요!',
                        location: '복지관련 업무는 오정구청에서 빠르게 처리됩니다.',
                        waitTime: '현재 대기시간: 25분'
                    },
                    '가까운 구청 위치 알려주세요': {
                        text: '현재 위치 기준으로 안내해드릴게요! 📍🥇 원미구청 (가장 가까움)• 거리: 350m (도보 5분)• 대기시간: 15분• 주차: 무료 2시간🥈 소사구청• 거리: 1.2km (도보 15분)• 대기시간: 35분• 주차: 무료 3시간🥉 오정구청• 거리: 2.8km (차량 10분)• 대기시간: 1시간• 주차: 무료 2시간💡 사전 예약을 하시면 대기시간을 크게 줄일 수 있어요!',
                        location: '원미구청을 추천합니다.',
                        waitTime: '지금 예약하면 바로 처리 가능!'
                    },
                    '민원 처리 현황을 확인하고 싶어요': {
                        text: '민원 처리현황을 실시간으로 확인하실 수 있어요! 📊🔍 확인방법:• 민원번호로 조회• 휴대폰 번호로 조회• QR코드 스캔📱 알림서비스:• 카카오톡 실시간 알림• SMS 진행상황 통지• 이메일 완료 통보📈 처리단계:1️⃣ 접수완료 ✓2️⃣ 검토중 📋3️⃣ 처리중 ⚙️4️⃣ 완료 🎉평균 처리시간이 3일에서 1일로 단축되었어요!',
                        location: '온라인으로 24시간 확인 가능합니다.',
                        waitTime: '즉시 확인 가능'
                    },
                    '온라인으로 신청 가능한 서비스는 뭐가 있나요?': {
                        text: '온라인으로 처리 가능한 서비스가 늘어났어요! 💻✅ 100% 온라인 완결:• 주민등록등본/초본 발급• 건축물대장 발급• 지방세 납부• 전입신고• 복지혜택 신청📱 모바일 앱 전용:• AI 상담 서비스• 구청 혼잡도 확인• 사전 예약 시스템• 진행상황 알림🎯 온라인 완결률: 40% → 70%로 증가!모바일 앱을 다운로드하시면 더 편리하게 이용하실 수 있어요.',
                        location: '온라인 서비스는 장소에 상관없이 이용 가능',
                        waitTime: '즉시 처리'
                    },
                    'default': {
                        text: '죄송합니다. 정확히 이해하지 못했어요. 😅다시 질문해주시거나 아래 빠른 질문 버튼을 이용해주세요.📞 직접 상담을 원하시면:• 부천시 대표번호: 032-625-1234• 평일 09:00-18:00 운영',
                        location: null,
                        waitTime: null
                    }
                },
                en: {
                    '전입신고 어떻게 하나요?': { 
                        text: 'You must register your change of address within 14 days after moving.📋 Required documents:• Change of address form (Jeonip Singoseo)• ID card (Alien Registration Card or Passport)• Proof of residence (e.g., lease contract)🏢 Where to apply:• Local Gu (district) office or Dong (neighborhood) community service center• Online: Government24 website (www.gov.kr)⏰ Processing time: Usually immediate💡 Tip: Applying online via Government24 can save you time!',
                        location: 'Wonmi-gu Office is the closest to your current location (5 min walk).',
                        waitTime: 'Current waiting time: 15 minutes.'
                    },
                    '사업자등록 절차가 궁금해요': {
                        text: 'Business registration can be processed in a one-stop service!📝 Online Integrated Application:1️⃣ Access Bucheon Smart One-Stop Platform2️⃣ Click on "Integrated Business Registration Application"3️⃣ Enter required information once4️⃣ Information automatically distributed to Tax Office, Gu Office, and Labor Welfare Corporation⚡ Processing time reduced from 2 weeks → 3 days!📱 You can receive real-time updates on progress via KakaoTalk.',
                        location: 'We recommend Sosa-gu Office for the fastest processing.',
                        waitTime: 'Estimated processing time: 3 days.'
                    },
                     '복지 혜택 신청하고 싶어요': {
                        text: 'Let me guide you through custom welfare benefits! 🎁🔍 Personalized Analysis:• Based on age, income, household members• Automatic recommendation of eligible benefits• Proactive notification of missed benefits📋 Key Welfare Benefits:• Basic Pension (ages 65+)• Child Allowance (under 8 years)• Youth Allowance (ages 19-34)• Disability PensionYou can apply for multiple benefits at once through our online integrated application!',
                        location: 'Welfare-related services are processed quickly at Ojeong-gu Office.',
                        waitTime: 'Current waiting time: 25 minutes.'
                    },
                    '가까운 구청 위치 알려주세요': {
                        text: 'Here\'s guidance based on your current location! 📍🥇 Wonmi-gu Office (Closest)• Distance: 350m (5 min walk)• Waiting Time: 15 min• Parking: 2 hours free🥈 Sosa-gu Office• Distance: 1.2km (15 min walk)• Waiting Time: 35 min• Parking: 3 hours free🥉 Ojeong-gu Office• Distance: 2.8km (10 min by car)• Waiting Time: 1 hour• Parking: 2 hours free💡 Making a reservation in advance can significantly reduce your waiting time!',
                        location: 'We recommend Wonmi-gu Office.',
                        waitTime: 'Immediate processing if you book now!'
                    },
                    '민원 처리 현황을 확인하고 싶어요': {
                        text: 'You can check your civil complaint status in real-time! 📊🔍 How to Check:• By complaint number• By mobile phone number• Scan QR code📱 Notification Service:• Real-time KakaoTalk alerts• SMS progress notifications• Email completion notice📈 Processing Stages:1️⃣ Received ✓2️⃣ Under Review 📋3️⃣ In Progress ⚙️4️⃣ Completed 🎉Average processing time has been reduced from 3 days to 1 day!',
                        location: 'Available online 24/7.',
                        waitTime: 'Check instantly.'
                    },
                    '온라인으로 신청 가능한 서비스는 뭐가 있나요?': {
                        text: 'More services are now available online! 💻✅ 100% Online Completion:• Issuance of resident registration copy/abstract• Issuance of building ledger• Local tax payment• Change of address registration• Welfare benefit application📱 Mobile App Exclusives:• AI counseling service• Gu office congestion check• Advance reservation system• Progress notifications🎯 Online completion rate: Increased from 40% → 70%!Download our mobile app for more convenience.',
                        location: 'Online services are accessible regardless of location.',
                        waitTime: 'Process instantly.'
                    },
                    'default': {
                         text: 'Sorry, I didn\'t understand that exactly. 😅Please ask again or use the quick question buttons below.📞 For direct consultation:• Bucheon City Hall: +82-32-625-1234• Weekdays 09:00-18:00 (KST)',
                         location: null,
                         waitTime: null
                    }
                }
            };

            const langToggle = document.getElementById('lang-toggle');
            if (langToggle) {
                langToggle.addEventListener('click', function() {
                    if (currentLanguage === 'ko') {
                        currentLanguage = 'en';
                        this.innerHTML = '<i class="fas fa-globe mr-2"></i>English';
                    } else {
                        currentLanguage = 'ko';
                        this.innerHTML = '<i class="fas fa-globe mr-2"></i>한국어';
                    }
                });
            }

            const quickQuestions = document.querySelectorAll('.quick-question');
            quickQuestions.forEach(button => {
                button.addEventListener('click', function() {
                    const questionKey = this.dataset.question;
                    sendMessage(questionKey, false, questionKey);
                });
            });

            const chatInput = document.getElementById('chat-input');
            const sendBtn = document.getElementById('send-btn');

            if (sendBtn && chatInput) {
                sendBtn.addEventListener('click', function() {
                    const message = chatInput.value.trim();
                    if (message) {
                        sendMessage(message, true, message);
                        chatInput.value = '';
                    }
                });

                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        const message = this.value.trim();
                        if (message) {
                            sendMessage(message, true, message);
                            this.value = '';
                        }
                    }
                });
            }
            
            function sendMessage(textToSend, isUserMessage, originalQuestionKey = null) {
                const chatContainer = document.getElementById('chat-container');
                if (!chatContainer) return;

                if (isUserMessage) {
                    addMessageToChat(textToSend, true);
                }

                const typingIndicator = addTypingIndicatorToChat();

                setTimeout(() => {
                    if (typingIndicator) typingIndicator.remove();
                    
                    const responseKey = originalQuestionKey || textToSend; 
                    const response = generateBotResponse(responseKey);
                    addMessageToChat(response.text, false);

                    if (response.location) {
                        setTimeout(() => {
                            addLocationCardToChat(response.location, response.waitTime);
                        }, 500);
                    }
                }, isUserMessage ? 1500 : 500);
            }

            function addMessageToChat(text, isUser) {
                const chatContainer = document.getElementById('chat-container');
                const messageDiv = document.createElement('div');
                messageDiv.className = `flex items-start mb-6 chat-message ${isUser ? 'justify-end' : ''}`;
                
                const currentTime = new Date().toLocaleTimeString([], { 
                    hour: '2-digit', 
                    minute: '2-digit' 
                });

                if (isUser) {
                    messageDiv.innerHTML = `
                        <div class="user-message p-4 rounded-lg shadow-sm max-w-md ml-auto">
                            <p class="text-white">${text}</p>
                            <div class="message-time text-blue-100 mt-1">${currentTime}</div>
                        </div>
                        <div class="w-10 h-10 bg-gray-600 rounded-full flex items-center justify-center ml-3 flex-shrink-0">
                            <i class="fas fa-user text-white"></i>
                        </div>
                    `;
                } else {
                    messageDiv.innerHTML = `
                        <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                            <i class="fas fa-robot text-blue-600"></i>
                        </div>
                        <div class="bot-message p-4 rounded-lg shadow-sm max-w-md">
                            <p class="text-gray-800" style="white-space: pre-line;">${text}</p>
                            <div class="message-time mt-1">${currentTime}</div>
                        </div>
                    `;
                }
                chatContainer.appendChild(messageDiv);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }

            function addTypingIndicatorToChat() {
                const chatContainer = document.getElementById('chat-container');
                const typingDiv = document.createElement('div');
                typingDiv.className = 'flex items-start mb-6';
                typingDiv.innerHTML = `
                    <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                        <i class="fas fa-robot text-blue-600"></i>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow-sm">
                        <div class="typing-dots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                    </div>
                `;
                chatContainer.appendChild(typingDiv);
                chatContainer.scrollTop = chatContainer.scrollHeight;
                return typingDiv;
            }

            function addLocationCardToChat(locationText, waitTimeText) {
                const chatContainer = document.getElementById('chat-container');
                const locationDiv = document.createElement('div');
                locationDiv.className = 'flex items-start mb-6 chat-message';
                locationDiv.innerHTML = `
                    <div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                        <i class="fas fa-map-marker-alt text-blue-600"></i>
                    </div>
                    <div class="bg-blue-50 p-4 rounded-lg shadow-sm max-w-md border border-blue-200">
                        <div class="flex items-center mb-2">
                            <i class="fas fa-location-arrow text-blue-600 mr-2"></i>
                            <span class="font-semibold text-blue-800">${currentLanguage === 'ko' ? '위치 안내' : 'Location Guide'}</span>
                        </div>
                        <p class="text-sm text-gray-700 mb-2">${locationText}</p>
                        <p class="text-xs text-gray-600">${waitTimeText}</p>
                        <button class="mt-3 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-all text-sm w-full">
                            <i class="fas fa-directions mr-2"></i>${currentLanguage === 'ko' ? '길찾기 & 예약' : 'Directions & Booking'}
                        </button>
                    </div>
                `;
                chatContainer.appendChild(locationDiv);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }

            function generateBotResponse(questionKey) {
                const langResponses = chatResponses[currentLanguage] || chatResponses.ko;
                
                if (langResponses[questionKey]) {
                    return langResponses[questionKey];
                }

                const questionFirstWord = questionKey.toLowerCase().split(' ')[0];
                for (const [key, value] of Object.entries(langResponses)) {
                    if (key.toLowerCase().startsWith(questionFirstWord)) {
                        return value;
                    }
                }
                return langResponses.default || chatResponses.ko.default;
            }
            
            // 예산 차트 초기화 (Roadmap 섹션)
            const budgetCtx = document.getElementById('budgetChart');
            if (budgetCtx) {
                new Chart(budgetCtx.getContext('2d'), {
                    type: 'doughnut',
                    data: {
                        labels: ['AI 챗봇 개발', '시스템 연계', '모바일 앱 개발', '운영 비용'],
                        datasets: [{
                            data: [6, 4, 3, 5], // 억원 단위
                            backgroundColor: ['#3b82f6', '#10b981', '#8b5cf6', '#f59e0b'],
                            borderColor: '#ffffff',
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: { padding: 15, usePointStyle: true }
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        return context.label + ': ' + context.raw + '억원';
                                    }
                                }
                            },
                            title: {
                                display: true,
                                text: '총 예산: 18억원',
                                padding: { top: 10, bottom: 20 },
                                font: { size: 16 }
                            }
                        }
                    }
                });
            }

        });
    </script>
</body>
</html>

  